#define BLYNK_TEMPLATE_ID "TMPL6iZLPuYY1"
#define BLYNK_TEMPLATE_NAME "Truyenthongkhongday"

#define DHTPIN D3
#define DHTTYPE DHT11

#include <ESP8266WiFi.h>
#include <BlynkSimpleEsp8266.h>
#include <DHT.h>
#include <Wire.h>
#include <LiquidCrystal_I2C.h>

char auth[] = "YOUR_BLYNK_TOKEN_HERE";
char ssid[] = "YOUR_WIFI_NAME";
char pass[] = "YOUR_WIFI_PASSWORD";

LiquidCrystal_I2C lcd(0x27, 16, 2);
DHT dht(DHTPIN, DHTTYPE);

void setup() 
{
  Serial.begin(9600);
  dht.begin();
  Blynk.begin(auth, ssid, pass);
  lcd.begin();
  lcd.backlight();
  lcd.setCursor(0,0);
  lcd.print("Connecting...");
  lcd.clear();
  lcd.print("Connected");
  delay(2000);
  lcd.clear();
}

void loop() 
{
  Blynk.run();
  
  float temp = dht.readTemperature();
  float hum = dht.readHumidity();

  Blynk.virtualWrite(V0, temp);
  Blynk.virtualWrite(V1, hum);

  lcd.clear();
  lcd.setCursor(0, 0);
  lcd.print("Temp: "); 
  lcd.print(temp);
  lcd.print((char)223); 
  lcd.print("C");
  lcd.setCursor(0, 1);
  lcd.print("Humidity: "); 
  lcd.print(hum);
  lcd.print("%");

  delay(2000);
  }
